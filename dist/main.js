/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/***/ (() => {

eval("// Default array for projects and tasks\nconst toDoArray = [];\nconst arrayContainerForParentObject = [];\n\n// Button selections for adding, updating, and canceling to-dos and projects\nconst addToDoBtn = document.getElementById(\"addToDo\");\nconst updateToDoBtn = document.getElementById(\"updateToDo\");\nconst addProjectBtn = document.getElementById(\"addProject\");\nconst deleteProjectBtn = document.getElementById(\"deleteProject\");\nconst updateProjectBtn = document.getElementById(\"updateProject\");\nconst cancelProjectBtn = document.getElementById(\"cancelProject\");\nlet projectActiveObject = null;\nlet toDoActiveObject = null;\n\n// Access local storage\nfunction loadFromLocalStorage() {\n  const storedData = localStorage.getItem(\"projects\");\n  if (storedData) {\n    const storedProjects = JSON.parse(storedData);\n    console.log(storedProjects);\n\n    // Clear array before adding new data to prevent duplicates\n    arrayContainerForParentObject.length = 0;\n\n    // Push each stored project into arrayContainerForParentObject\n    storedProjects.forEach((project) => {\n      arrayContainerForParentObject.push(project);\n\n      // Display each project on the page\n      const projectInstance = new CreateProject();\n      projectInstance.displayParentObject(project);\n\n      // Will be used to re-render default project when it reloads\n      // If the project has items, render each to-do item\n      if (project.projectItems && project.projectItems.length > 0) {\n        project.projectItems.forEach((toDoItem) => {\n          const toDoInstance = new AssignToDoContent();\n          toDoInstance.displayToDoItem(toDoItem);\n        });\n      }\n    });\n  }\n}\n\n// Save to local storage\nfunction saveToLocalStorage() {\n  localStorage.setItem(\n    \"projects\",\n    JSON.stringify(arrayContainerForParentObject)\n  );\n}\n\n// Parent (CreateProject) class\nclass CreateProject {\n  constructor() {\n    this.projectName = document.getElementById(\"projectTitle\").value;\n    this.projectItems = [];\n  }\n\n  createParentObject() {\n    return {\n      projectName: this.projectName,\n      projectItems: this.projectItems,\n    };\n  }\n\n  pushParentObject() {\n    const projectExists = arrayContainerForParentObject.some(\n      (project) => project.projectName === this.projectName\n    );\n\n    if (!projectExists) {\n      const newProject = this.createParentObject();\n      arrayContainerForParentObject.push(newProject);\n      return newProject;\n    } else {\n      alert(\"Project name already exists. Choose a different name.\");\n      return null;\n    }\n  }\n\n  displayParentObject(projectItem) {\n    const projectList = document.getElementById(\"projectList\");\n\n    // Create the project item container\n    const projectItemContainer = document.createElement(\"div\");\n    projectItemContainer.classList.add(\"projectItemContainer\");\n\n    // Create the project title button\n    const projectTitleBtn = document.createElement(\"button\");\n    projectTitleBtn.classList.add(\"projectTitle\");\n    projectTitleBtn.textContent = projectItem.projectName;\n    projectTitleBtn.setAttribute(\"data-id\", projectItem.projectName);\n    projectTitleBtn.onclick = () =>\n      showToDosForProject(projectItem.projectName);\n\n    projectItemContainer.appendChild(projectTitleBtn);\n\n    // Create the edit button\n    const projectEditBtn = document.createElement(\"button\");\n    projectEditBtn.classList.add(\"projectEditButton\");\n    projectEditBtn.textContent = \"...\";\n    projectEditBtn.setAttribute(\"data-id\", projectItem.projectName);\n    projectEditBtn.onclick = () => {\n      editProject(projectItem.projectName);\n      openProjectDialogUponEdit();\n    };\n    projectEditBtn.id = `projectEditBtn`;\n    projectItemContainer.appendChild(projectEditBtn);\n\n    projectList.appendChild(projectItemContainer);\n  }\n}\n\n// Child (AssignToDoContent) class\nclass AssignToDoContent {\n  constructor() {\n    this.toDoTitle = document.getElementById(\"toDoTitle\").value;\n    this.toDoDescription = document.getElementById(\"toDoDescription\").value;\n    this.toDoDueDate = document.getElementById(\"toDoDueDate\").value;\n    this.toDoUrgency = document.getElementById(\"toDoUrgency\").value;\n    this.toDoImportance = document.getElementById(\"toDoImportance\").value;\n  }\n\n  static toDoIDCount = 0;\n\n  createToDoObj() {\n    return {\n      id: AssignToDoContent.toDoIDCount++,\n      title: this.toDoTitle,\n      description: this.toDoDescription,\n      dueDate: this.toDoDueDate,\n      urgency: this.toDoUrgency,\n      importance: this.toDoImportance,\n    };\n  }\n\n  pushToDoItem() {\n    const toDoItem = this.createToDoObj();\n    projectActiveObject.projectItems.push(toDoItem);\n    return toDoItem;\n  }\n\n  displayToDoItem(toDoItem) {\n    const toDoList = document.getElementById(\"toDoList\");\n\n    const toDoRow = document.createElement(\"tr\");\n    toDoRow.classList.add(\"toDoItem\");\n    toDoRow.setAttribute(\"data-id\", toDoItem.id);\n\n    const checkboxCell = document.createElement(\"td\");\n    const checkbox = document.createElement(\"input\");\n    checkbox.type = \"checkbox\";\n    checkboxCell.appendChild(checkbox);\n    toDoRow.appendChild(checkboxCell);\n\n    const urgencyCell = document.createElement(\"td\");\n    urgencyCell.classList.add(\"urgencyCell\");\n\n    if (toDoItem.importance === \"Important\" && toDoItem.urgency === \"Urgent\") {\n      const quadrant = document.createElement(\"div\");\n      quadrant.textContent = \"DO\";\n      quadrant.setAttribute(\"class\", \"do\");\n      urgencyCell.appendChild(quadrant);\n    }\n    if (\n      toDoItem.importance === \"Important\" &&\n      toDoItem.urgency === \"Not Urgent\"\n    ) {\n      const quadrant = document.createElement(\"div\");\n      quadrant.textContent = \"DECIDE\";\n      quadrant.setAttribute(\"class\", \"decide\");\n      urgencyCell.appendChild(quadrant);\n    }\n    if (\n      toDoItem.importance === \"Not Important\" &&\n      toDoItem.urgency === \"Urgent\"\n    ) {\n      const quadrant = document.createElement(\"div\");\n      quadrant.textContent = \"DELEGATE\";\n      quadrant.setAttribute(\"class\", \"delegate\");\n      urgencyCell.appendChild(quadrant);\n    }\n    if (\n      toDoItem.importance === \"Not Important\" &&\n      toDoItem.urgency === \"Not Urgent\"\n    ) {\n      const quadrant = document.createElement(\"div\");\n      quadrant.textContent = \"ELIMINATE\";\n      quadrant.setAttribute(\"class\", \"eliminate\");\n      urgencyCell.appendChild(quadrant);\n    }\n\n    const urgencyDiv = document.createElement(\"div\");\n    urgencyDiv.textContent = toDoItem.urgency;\n    urgencyCell.appendChild(urgencyDiv);\n\n    const importanceDiv = document.createElement(\"div\");\n    importanceDiv.textContent = toDoItem.importance;\n    urgencyCell.appendChild(importanceDiv);\n    toDoRow.appendChild(urgencyCell);\n\n    const detailsCell = document.createElement(\"td\");\n    const titleCell = document.createElement(\"div\");\n    titleCell.classList.add(\"titleCell\");\n    titleCell.textContent = toDoItem.title;\n    detailsCell.appendChild(titleCell);\n\n    const dueDateCell = document.createElement(\"div\");\n    dueDateCell.classList.add(\"dueDateCell\");\n    dueDateCell.textContent = toDoItem.dueDate;\n    detailsCell.appendChild(dueDateCell);\n\n    const descriptionCell = document.createElement(\"div\");\n    descriptionCell.classList.add(\"descriptionCell\");\n    descriptionCell.textContent = toDoItem.description;\n    detailsCell.appendChild(descriptionCell);\n\n    toDoRow.appendChild(detailsCell);\n\n    const actionsCell = document.createElement(\"td\");\n\n    const deleteButton = document.createElement(\"button\");\n    deleteButton.id = \"deleteToDo\";\n    deleteButton.setAttribute(\"data-id\", toDoItem.id);\n    deleteButton.onclick = () => deleteToDoItem(toDoItem.id, toDoRow);\n    actionsCell.appendChild(deleteButton);\n\n    const deleteIcon = document.createElement(\"img\");\n    deleteIcon.src = \"./assets/delete.png\";\n    deleteIcon.setAttribute(\"class\", \"icon\");\n    deleteButton.appendChild(deleteIcon);\n\n    const editButton = document.createElement(\"button\");\n    editButton.id = \"editToDo\";\n    editButton.setAttribute(\"data-id\", toDoItem.id);\n    editButton.onclick = () => {\n      editToDoItem(toDoItem.id);\n      openToDoDialogUponEdit();\n    };\n\n    const editIcon = document.createElement(\"img\");\n    editIcon.src = \"./assets/edit.png\";\n    editIcon.setAttribute(\"class\", \"icon\");\n    editButton.appendChild(editIcon);\n\n    actionsCell.appendChild(editButton);\n\n    toDoRow.appendChild(actionsCell);\n\n    toDoList.appendChild(toDoRow);\n  }\n}\n\n// Function to show to-dos for selected project\nfunction showToDosForProject(projectName) {\n  projectActiveObject = arrayContainerForParentObject.find(\n    (project) => project.projectName === projectName\n  );\n  const titleContainer = document.getElementById(\"titleContainer\");\n  titleContainer.textContent = projectActiveObject.projectName;\n\n  const toDoList = document.getElementById(\"toDoList\");\n  toDoList.innerHTML = \"\";\n\n  projectActiveObject.projectItems.forEach((toDoItem) => {\n    const toDoInstance = new AssignToDoContent();\n    toDoInstance.displayToDoItem(toDoItem);\n  });\n\n  openToDoDialog.style.display = \"inline\";\n}\n\n// Event listeners for add, update, and delete operations\naddToDoBtn.addEventListener(\"click\", () => {\n  if (validateToDoInputField()) {\n    const toDoInstance = new AssignToDoContent();\n    const toDoItem = toDoInstance.pushToDoItem();\n    toDoInstance.displayToDoItem(toDoItem);\n    emptyToDoInputField();\n    console.log(\"Updated array:\", projectActiveObject.projectItems);\n    console.log(\"New item added:\", toDoItem);\n  } else {\n    alert(\"Please fill in all the required fields.\");\n  }\n\n  toDoDialog.close();\n  saveToLocalStorage();\n});\n\nfunction validateToDoInputField() {\n  return (\n    document.getElementById(\"toDoTitle\").value !== \"\" &&\n    document.getElementById(\"toDoDescription\").value !== \"\" &&\n    document.getElementById(\"toDoDueDate\").value !== \"\" &&\n    document.getElementById(\"toDoUrgency\").value !== \"\" &&\n    document.getElementById(\"toDoImportance\").value !== \"\"\n  );\n}\n\nfunction emptyToDoInputField() {\n  document.getElementById(\"toDoTitle\").value = \"\";\n  document.getElementById(\"toDoDescription\").value = \"\";\n  document.getElementById(\"toDoDueDate\").value = \"\";\n  document.getElementById(\"toDoUrgency\").value = \"\";\n  document.getElementById(\"toDoImportance\").value = \"\";\n}\n\n// Delete a to-do item\nfunction deleteToDoItem(toDoItemID, toDoRow) {\n  const index = projectActiveObject.projectItems.findIndex(\n    (toDoItem) => toDoItem.id === toDoItemID\n  );\n  projectActiveObject.projectItems.splice(index, 1);\n  toDoRow.remove();\n\n  toDoDialog.close();\n  saveToLocalStorage();\n}\n\n// Edit a to-do item\nfunction editToDoItem(toDoItemID) {\n  toDoActiveObject = projectActiveObject.projectItems.find(\n    (toDoItem) => toDoItem.id === toDoItemID\n  );\n  document.getElementById(\"toDoTitle\").value = toDoActiveObject.title;\n  document.getElementById(\"toDoDescription\").value =\n    toDoActiveObject.description;\n  document.getElementById(\"toDoDueDate\").value = toDoActiveObject.dueDate;\n  document.getElementById(\"toDoUrgency\").value = toDoActiveObject.urgency;\n  document.getElementById(\"toDoImportance\").value = toDoActiveObject.importance;\n}\n\nupdateToDoBtn.addEventListener(\"click\", () => {\n  if (validateToDoInputField()) {\n    if (toDoActiveObject) {\n      toDoActiveObject.title = document.getElementById(\"toDoTitle\").value;\n      toDoActiveObject.description =\n        document.getElementById(\"toDoDescription\").value;\n      toDoActiveObject.dueDate = document.getElementById(\"toDoDueDate\").value;\n      toDoActiveObject.urgency = document.getElementById(\"toDoUrgency\").value;\n      toDoActiveObject.importance =\n        document.getElementById(\"toDoImportance\").value;\n      const updatedRow = document.querySelector(\n        `tr[data-id='${toDoActiveObject.id}']`\n      );\n      updatedRow.querySelector(\".titleCell\").textContent =\n        toDoActiveObject.title;\n      updatedRow.querySelector(\".dueDateCell\").textContent =\n        toDoActiveObject.dueDate;\n      updatedRow.querySelector(\".descriptionCell\").textContent =\n        toDoActiveObject.description;\n      updatedRow.querySelector(\".urgencyCell div:nth-child(1)\").textContent =\n        toDoActiveObject.urgency;\n      updatedRow.querySelector(\".urgencyCell div:nth-child(2)\").textContent =\n        toDoActiveObject.importance;\n\n      emptyToDoInputField();\n    }\n  } else {\n    alert(\"Please fill in all the required fields.\");\n  }\n\n  toDoDialog.close();\n  saveToLocalStorage();\n});\n\naddProjectBtn.addEventListener(\"click\", () => {\n  const newProject = new CreateProject();\n  const addedProject = newProject.pushParentObject();\n  if (addedProject) {\n    newProject.displayParentObject(addedProject);\n  }\n  projectDialog.close();\n  showToDosForProject(newProject.projectName);\n  saveToLocalStorage();\n});\n\nfunction editProject(projectID) {\n  projectActiveObject = arrayContainerForParentObject.find(\n    (project) => project.projectName === projectID\n  );\n  document.getElementById(\"projectTitle\").value =\n    projectActiveObject.projectName;\n}\n\nupdateProjectBtn.addEventListener(\"click\", () => {\n  if (projectActiveObject) {\n    const newTitle = document.getElementById(\"projectTitle\").value;\n    document.querySelector(\n      `button[data-id='${projectActiveObject.projectName}']`\n    ).textContent = newTitle;\n\n    //change id of the title button\n    const titleButton = document.querySelector(\n      `button.projectTitle[data-id='${projectActiveObject.projectName}']`\n    );\n    if (titleButton) {\n      titleButton.setAttribute(\"data-id\", newTitle);\n    } else {\n      console.error(\"Title button not found.\");\n    }\n\n    //change id of attached edit button\n    const editButton = document.querySelector(\n      `button.projectEditButton[data-id='${projectActiveObject.projectName}']`\n    );\n    if (editButton) {\n      editButton.setAttribute(\"data-id\", newTitle);\n    } else {\n      console.error(\"Edit button not found.\");\n    }\n\n    // change value of the projectName object\n    projectActiveObject.projectName = newTitle;\n\n    //empty input field for title\n    document.getElementById(\"projectTitle\").value = null;\n  }\n\n  projectDialog.close();\n  saveToLocalStorage();\n});\n\ndeleteProjectBtn.addEventListener(\"click\", () => {\n  if (projectActiveObject) {\n    const index = arrayContainerForParentObject.indexOf(projectActiveObject);\n    arrayContainerForParentObject.splice(index, 1);\n    document\n      .querySelector(\n        `#projectList button[data-id='${projectActiveObject.projectName}']`\n      )\n      .parentElement.remove();\n    projectActiveObject = null;\n  }\n\n  const toDoList = document.getElementById(\"toDoList\");\n  toDoList.innerHTML = \"\";\n\n  projectDialog.close();\n  saveToLocalStorage();\n});\n\n// UI UX\nconst toDoDialog = document.getElementById(\"toDoDialog\");\nconst projectDialog = document.getElementById(\"projectDialog\");\nconst openToDoDialog = document.getElementById(\"openToDoDialog\");\nconst openProjectDialog = document.getElementById(\"openProjectDialog\");\nconst projectEditBtn = document.getElementById(\"projectEditBtn\");\nconst cancelToDoBtn = document.getElementById(\"cancelToDo\");\n\nopenProjectDialog.addEventListener(\"click\", () => {\n  projectDialog.showModal();\n  document.getElementById(\"titleContainer\").textContent = \"\"; // reset text input\n  addProjectBtn.style.display = \"block\";\n  deleteProjectBtn.style.display = \"none\";\n  updateProjectBtn.style.display = \"none\";\n});\n\ncancelProjectBtn.addEventListener(\"click\", () => {\n  projectDialog.close();\n});\n\nfunction openProjectDialogUponEdit() {\n  projectDialog.showModal();\n  deleteProjectBtn.style.display = \"block\";\n  updateProjectBtn.style.display = \"block\";\n  addProjectBtn.style.display = \"none\";\n}\n\nopenToDoDialog.addEventListener(\"click\", () => {\n  toDoDialog.showModal();\n  updateToDoBtn.style.display = \"none\";\n  addToDoBtn.style.display = \"block\";\n});\n\ncancelToDoBtn.addEventListener(\"click\", () => {\n  emptyToDoInputField();\n  toDoDialog.close();\n});\n\nfunction openToDoDialogUponEdit() {\n  toDoDialog.showModal();\n  addToDoBtn.style.display = \"none\";\n  updateToDoBtn.style.display = \"inline-block\";\n}\n\n// for the sort create a new key:value inside the object that follows a condition\n// use the value for that key value pair to create a sort function\n// use an event listener\n// how do you then remove the effects of the sort when you leave the page?\n\nconst allToDoBtn = document.getElementById(\"allToDo\");\nallToDoBtn.addEventListener(\"click\", () => showAllToDos());\n\nfunction showAllToDos() {\n  const toDoList = document.getElementById(\"toDoList\");\n  toDoList.innerHTML = \"\"; // Clear existing list to avoid duplicates\n\n  arrayContainerForParentObject.forEach((project) => {\n    project.projectItems.forEach((toDoItem) => {\n      const toDoInstance = new AssignToDoContent();\n      toDoInstance.displayToDoItem(toDoItem); // Display each to-do item\n    });\n  });\n\n  // Optionally update title to show this is the \"All To-Dos\" view\n  const titleContainer = document.getElementById(\"titleContainer\");\n  titleContainer.textContent = \"All To-Do Items\";\n\n  openToDoDialog.style.display = \"none\";\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  showAllToDos(); // Automatically display all to-do items when the DOM is fully loaded\n});\n\nconst sampleProjects = [\n  {\n    projectName: \"Chores\",\n    projectItems: [\n      {\n        id: 0,\n        title: \"Magsalang ng labahan\",\n        description: \"Wag kalimutan isampay kagad\",\n        dueDate: \"2024-11-15\",\n        urgency: \"Urgent\",\n        importance: \"Important\",\n      },\n      {\n        id: 1,\n        title: \"Ilabas basura\",\n        description: \"Wag mong iiwan ng walang plastic yung basurahan\",\n        dueDate: \"2024-11-20\",\n        urgency: \"Urgent\",\n        importance: \"Not Important\",\n      },\n    ],\n  },\n  {\n    projectName: \"Others XD\",\n    projectItems: [\n      {\n        id: 0,\n        title: \"Gumawa ng tinapay\",\n        description: \"Wag kang tamad :/\",\n        dueDate: \"2024-12-01\",\n        urgency: \"Not Urgent\",\n        importance: \"Important\",\n      },\n      {\n        id: 1,\n        title: \"Manood ng bagong series\",\n        description: \"what if lang naman!\",\n        dueDate: \"2024-12-01\",\n        urgency: \"Not Urgent\",\n        importance: \"Not Important\",\n      },\n    ],\n  },\n];\n\n// Example of adding it to localStorage\nlocalStorage.setItem(\"projects\", JSON.stringify(sampleProjects));\n\nloadFromLocalStorage();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFpbi5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0JBQW9CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0NBQWdDO0FBQ3pEOztBQUVBO0FBQ0E7QUFDQSxzQ0FBc0MsZ0NBQWdDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsZ0NBQWdDO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxnQ0FBZ0M7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkJBQTJCOztBQUUzQjtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz81NmQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIERlZmF1bHQgYXJyYXkgZm9yIHByb2plY3RzIGFuZCB0YXNrc1xuY29uc3QgdG9Eb0FycmF5ID0gW107XG5jb25zdCBhcnJheUNvbnRhaW5lckZvclBhcmVudE9iamVjdCA9IFtdO1xuXG4vLyBCdXR0b24gc2VsZWN0aW9ucyBmb3IgYWRkaW5nLCB1cGRhdGluZywgYW5kIGNhbmNlbGluZyB0by1kb3MgYW5kIHByb2plY3RzXG5jb25zdCBhZGRUb0RvQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRUb0RvXCIpO1xuY29uc3QgdXBkYXRlVG9Eb0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXBkYXRlVG9Eb1wiKTtcbmNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZFByb2plY3RcIik7XG5jb25zdCBkZWxldGVQcm9qZWN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWxldGVQcm9qZWN0XCIpO1xuY29uc3QgdXBkYXRlUHJvamVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXBkYXRlUHJvamVjdFwiKTtcbmNvbnN0IGNhbmNlbFByb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbmNlbFByb2plY3RcIik7XG5sZXQgcHJvamVjdEFjdGl2ZU9iamVjdCA9IG51bGw7XG5sZXQgdG9Eb0FjdGl2ZU9iamVjdCA9IG51bGw7XG5cbi8vIEFjY2VzcyBsb2NhbCBzdG9yYWdlXG5mdW5jdGlvbiBsb2FkRnJvbUxvY2FsU3RvcmFnZSgpIHtcbiAgY29uc3Qgc3RvcmVkRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHJvamVjdHNcIik7XG4gIGlmIChzdG9yZWREYXRhKSB7XG4gICAgY29uc3Qgc3RvcmVkUHJvamVjdHMgPSBKU09OLnBhcnNlKHN0b3JlZERhdGEpO1xuICAgIGNvbnNvbGUubG9nKHN0b3JlZFByb2plY3RzKTtcblxuICAgIC8vIENsZWFyIGFycmF5IGJlZm9yZSBhZGRpbmcgbmV3IGRhdGEgdG8gcHJldmVudCBkdXBsaWNhdGVzXG4gICAgYXJyYXlDb250YWluZXJGb3JQYXJlbnRPYmplY3QubGVuZ3RoID0gMDtcblxuICAgIC8vIFB1c2ggZWFjaCBzdG9yZWQgcHJvamVjdCBpbnRvIGFycmF5Q29udGFpbmVyRm9yUGFyZW50T2JqZWN0XG4gICAgc3RvcmVkUHJvamVjdHMuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgYXJyYXlDb250YWluZXJGb3JQYXJlbnRPYmplY3QucHVzaChwcm9qZWN0KTtcblxuICAgICAgLy8gRGlzcGxheSBlYWNoIHByb2plY3Qgb24gdGhlIHBhZ2VcbiAgICAgIGNvbnN0IHByb2plY3RJbnN0YW5jZSA9IG5ldyBDcmVhdGVQcm9qZWN0KCk7XG4gICAgICBwcm9qZWN0SW5zdGFuY2UuZGlzcGxheVBhcmVudE9iamVjdChwcm9qZWN0KTtcblxuICAgICAgLy8gV2lsbCBiZSB1c2VkIHRvIHJlLXJlbmRlciBkZWZhdWx0IHByb2plY3Qgd2hlbiBpdCByZWxvYWRzXG4gICAgICAvLyBJZiB0aGUgcHJvamVjdCBoYXMgaXRlbXMsIHJlbmRlciBlYWNoIHRvLWRvIGl0ZW1cbiAgICAgIGlmIChwcm9qZWN0LnByb2plY3RJdGVtcyAmJiBwcm9qZWN0LnByb2plY3RJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHByb2plY3QucHJvamVjdEl0ZW1zLmZvckVhY2goKHRvRG9JdGVtKSA9PiB7XG4gICAgICAgICAgY29uc3QgdG9Eb0luc3RhbmNlID0gbmV3IEFzc2lnblRvRG9Db250ZW50KCk7XG4gICAgICAgICAgdG9Eb0luc3RhbmNlLmRpc3BsYXlUb0RvSXRlbSh0b0RvSXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8vIFNhdmUgdG8gbG9jYWwgc3RvcmFnZVxuZnVuY3Rpb24gc2F2ZVRvTG9jYWxTdG9yYWdlKCkge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICBcInByb2plY3RzXCIsXG4gICAgSlNPTi5zdHJpbmdpZnkoYXJyYXlDb250YWluZXJGb3JQYXJlbnRPYmplY3QpXG4gICk7XG59XG5cbi8vIFBhcmVudCAoQ3JlYXRlUHJvamVjdCkgY2xhc3NcbmNsYXNzIENyZWF0ZVByb2plY3Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnByb2plY3ROYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0VGl0bGVcIikudmFsdWU7XG4gICAgdGhpcy5wcm9qZWN0SXRlbXMgPSBbXTtcbiAgfVxuXG4gIGNyZWF0ZVBhcmVudE9iamVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvamVjdE5hbWU6IHRoaXMucHJvamVjdE5hbWUsXG4gICAgICBwcm9qZWN0SXRlbXM6IHRoaXMucHJvamVjdEl0ZW1zLFxuICAgIH07XG4gIH1cblxuICBwdXNoUGFyZW50T2JqZWN0KCkge1xuICAgIGNvbnN0IHByb2plY3RFeGlzdHMgPSBhcnJheUNvbnRhaW5lckZvclBhcmVudE9iamVjdC5zb21lKFxuICAgICAgKHByb2plY3QpID0+IHByb2plY3QucHJvamVjdE5hbWUgPT09IHRoaXMucHJvamVjdE5hbWVcbiAgICApO1xuXG4gICAgaWYgKCFwcm9qZWN0RXhpc3RzKSB7XG4gICAgICBjb25zdCBuZXdQcm9qZWN0ID0gdGhpcy5jcmVhdGVQYXJlbnRPYmplY3QoKTtcbiAgICAgIGFycmF5Q29udGFpbmVyRm9yUGFyZW50T2JqZWN0LnB1c2gobmV3UHJvamVjdCk7XG4gICAgICByZXR1cm4gbmV3UHJvamVjdDtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoXCJQcm9qZWN0IG5hbWUgYWxyZWFkeSBleGlzdHMuIENob29zZSBhIGRpZmZlcmVudCBuYW1lLlwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGRpc3BsYXlQYXJlbnRPYmplY3QocHJvamVjdEl0ZW0pIHtcbiAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdExpc3RcIik7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHByb2plY3QgaXRlbSBjb250YWluZXJcbiAgICBjb25zdCBwcm9qZWN0SXRlbUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcHJvamVjdEl0ZW1Db250YWluZXIuY2xhc3NMaXN0LmFkZChcInByb2plY3RJdGVtQ29udGFpbmVyXCIpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBwcm9qZWN0IHRpdGxlIGJ1dHRvblxuICAgIGNvbnN0IHByb2plY3RUaXRsZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgcHJvamVjdFRpdGxlQnRuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0VGl0bGVcIik7XG4gICAgcHJvamVjdFRpdGxlQnRuLnRleHRDb250ZW50ID0gcHJvamVjdEl0ZW0ucHJvamVjdE5hbWU7XG4gICAgcHJvamVjdFRpdGxlQnRuLnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgcHJvamVjdEl0ZW0ucHJvamVjdE5hbWUpO1xuICAgIHByb2plY3RUaXRsZUJ0bi5vbmNsaWNrID0gKCkgPT5cbiAgICAgIHNob3dUb0Rvc0ZvclByb2plY3QocHJvamVjdEl0ZW0ucHJvamVjdE5hbWUpO1xuXG4gICAgcHJvamVjdEl0ZW1Db250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdFRpdGxlQnRuKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgZWRpdCBidXR0b25cbiAgICBjb25zdCBwcm9qZWN0RWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgcHJvamVjdEVkaXRCdG4uY2xhc3NMaXN0LmFkZChcInByb2plY3RFZGl0QnV0dG9uXCIpO1xuICAgIHByb2plY3RFZGl0QnRuLnRleHRDb250ZW50ID0gXCIuLi5cIjtcbiAgICBwcm9qZWN0RWRpdEJ0bi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIHByb2plY3RJdGVtLnByb2plY3ROYW1lKTtcbiAgICBwcm9qZWN0RWRpdEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgZWRpdFByb2plY3QocHJvamVjdEl0ZW0ucHJvamVjdE5hbWUpO1xuICAgICAgb3BlblByb2plY3REaWFsb2dVcG9uRWRpdCgpO1xuICAgIH07XG4gICAgcHJvamVjdEVkaXRCdG4uaWQgPSBgcHJvamVjdEVkaXRCdG5gO1xuICAgIHByb2plY3RJdGVtQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RFZGl0QnRuKTtcblxuICAgIHByb2plY3RMaXN0LmFwcGVuZENoaWxkKHByb2plY3RJdGVtQ29udGFpbmVyKTtcbiAgfVxufVxuXG4vLyBDaGlsZCAoQXNzaWduVG9Eb0NvbnRlbnQpIGNsYXNzXG5jbGFzcyBBc3NpZ25Ub0RvQ29udGVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudG9Eb1RpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvVGl0bGVcIikudmFsdWU7XG4gICAgdGhpcy50b0RvRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvRG9EZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgICB0aGlzLnRvRG9EdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvRHVlRGF0ZVwiKS52YWx1ZTtcbiAgICB0aGlzLnRvRG9VcmdlbmN5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvVXJnZW5jeVwiKS52YWx1ZTtcbiAgICB0aGlzLnRvRG9JbXBvcnRhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvSW1wb3J0YW5jZVwiKS52YWx1ZTtcbiAgfVxuXG4gIHN0YXRpYyB0b0RvSURDb3VudCA9IDA7XG5cbiAgY3JlYXRlVG9Eb09iaigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IEFzc2lnblRvRG9Db250ZW50LnRvRG9JRENvdW50KyssXG4gICAgICB0aXRsZTogdGhpcy50b0RvVGl0bGUsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy50b0RvRGVzY3JpcHRpb24sXG4gICAgICBkdWVEYXRlOiB0aGlzLnRvRG9EdWVEYXRlLFxuICAgICAgdXJnZW5jeTogdGhpcy50b0RvVXJnZW5jeSxcbiAgICAgIGltcG9ydGFuY2U6IHRoaXMudG9Eb0ltcG9ydGFuY2UsXG4gICAgfTtcbiAgfVxuXG4gIHB1c2hUb0RvSXRlbSgpIHtcbiAgICBjb25zdCB0b0RvSXRlbSA9IHRoaXMuY3JlYXRlVG9Eb09iaigpO1xuICAgIHByb2plY3RBY3RpdmVPYmplY3QucHJvamVjdEl0ZW1zLnB1c2godG9Eb0l0ZW0pO1xuICAgIHJldHVybiB0b0RvSXRlbTtcbiAgfVxuXG4gIGRpc3BsYXlUb0RvSXRlbSh0b0RvSXRlbSkge1xuICAgIGNvbnN0IHRvRG9MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvTGlzdFwiKTtcblxuICAgIGNvbnN0IHRvRG9Sb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgdG9Eb1Jvdy5jbGFzc0xpc3QuYWRkKFwidG9Eb0l0ZW1cIik7XG4gICAgdG9Eb1Jvdy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIHRvRG9JdGVtLmlkKTtcblxuICAgIGNvbnN0IGNoZWNrYm94Q2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBjaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgIGNoZWNrYm94Q2VsbC5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgdG9Eb1Jvdy5hcHBlbmRDaGlsZChjaGVja2JveENlbGwpO1xuXG4gICAgY29uc3QgdXJnZW5jeUNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgdXJnZW5jeUNlbGwuY2xhc3NMaXN0LmFkZChcInVyZ2VuY3lDZWxsXCIpO1xuXG4gICAgaWYgKHRvRG9JdGVtLmltcG9ydGFuY2UgPT09IFwiSW1wb3J0YW50XCIgJiYgdG9Eb0l0ZW0udXJnZW5jeSA9PT0gXCJVcmdlbnRcIikge1xuICAgICAgY29uc3QgcXVhZHJhbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgcXVhZHJhbnQudGV4dENvbnRlbnQgPSBcIkRPXCI7XG4gICAgICBxdWFkcmFudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImRvXCIpO1xuICAgICAgdXJnZW5jeUNlbGwuYXBwZW5kQ2hpbGQocXVhZHJhbnQpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0b0RvSXRlbS5pbXBvcnRhbmNlID09PSBcIkltcG9ydGFudFwiICYmXG4gICAgICB0b0RvSXRlbS51cmdlbmN5ID09PSBcIk5vdCBVcmdlbnRcIlxuICAgICkge1xuICAgICAgY29uc3QgcXVhZHJhbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgcXVhZHJhbnQudGV4dENvbnRlbnQgPSBcIkRFQ0lERVwiO1xuICAgICAgcXVhZHJhbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJkZWNpZGVcIik7XG4gICAgICB1cmdlbmN5Q2VsbC5hcHBlbmRDaGlsZChxdWFkcmFudCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRvRG9JdGVtLmltcG9ydGFuY2UgPT09IFwiTm90IEltcG9ydGFudFwiICYmXG4gICAgICB0b0RvSXRlbS51cmdlbmN5ID09PSBcIlVyZ2VudFwiXG4gICAgKSB7XG4gICAgICBjb25zdCBxdWFkcmFudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBxdWFkcmFudC50ZXh0Q29udGVudCA9IFwiREVMRUdBVEVcIjtcbiAgICAgIHF1YWRyYW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZGVsZWdhdGVcIik7XG4gICAgICB1cmdlbmN5Q2VsbC5hcHBlbmRDaGlsZChxdWFkcmFudCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRvRG9JdGVtLmltcG9ydGFuY2UgPT09IFwiTm90IEltcG9ydGFudFwiICYmXG4gICAgICB0b0RvSXRlbS51cmdlbmN5ID09PSBcIk5vdCBVcmdlbnRcIlxuICAgICkge1xuICAgICAgY29uc3QgcXVhZHJhbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgcXVhZHJhbnQudGV4dENvbnRlbnQgPSBcIkVMSU1JTkFURVwiO1xuICAgICAgcXVhZHJhbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJlbGltaW5hdGVcIik7XG4gICAgICB1cmdlbmN5Q2VsbC5hcHBlbmRDaGlsZChxdWFkcmFudCk7XG4gICAgfVxuXG4gICAgY29uc3QgdXJnZW5jeURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdXJnZW5jeURpdi50ZXh0Q29udGVudCA9IHRvRG9JdGVtLnVyZ2VuY3k7XG4gICAgdXJnZW5jeUNlbGwuYXBwZW5kQ2hpbGQodXJnZW5jeURpdik7XG5cbiAgICBjb25zdCBpbXBvcnRhbmNlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpbXBvcnRhbmNlRGl2LnRleHRDb250ZW50ID0gdG9Eb0l0ZW0uaW1wb3J0YW5jZTtcbiAgICB1cmdlbmN5Q2VsbC5hcHBlbmRDaGlsZChpbXBvcnRhbmNlRGl2KTtcbiAgICB0b0RvUm93LmFwcGVuZENoaWxkKHVyZ2VuY3lDZWxsKTtcblxuICAgIGNvbnN0IGRldGFpbHNDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgIGNvbnN0IHRpdGxlQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGl0bGVDZWxsLmNsYXNzTGlzdC5hZGQoXCJ0aXRsZUNlbGxcIik7XG4gICAgdGl0bGVDZWxsLnRleHRDb250ZW50ID0gdG9Eb0l0ZW0udGl0bGU7XG4gICAgZGV0YWlsc0NlbGwuYXBwZW5kQ2hpbGQodGl0bGVDZWxsKTtcblxuICAgIGNvbnN0IGR1ZURhdGVDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkdWVEYXRlQ2VsbC5jbGFzc0xpc3QuYWRkKFwiZHVlRGF0ZUNlbGxcIik7XG4gICAgZHVlRGF0ZUNlbGwudGV4dENvbnRlbnQgPSB0b0RvSXRlbS5kdWVEYXRlO1xuICAgIGRldGFpbHNDZWxsLmFwcGVuZENoaWxkKGR1ZURhdGVDZWxsKTtcblxuICAgIGNvbnN0IGRlc2NyaXB0aW9uQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGVzY3JpcHRpb25DZWxsLmNsYXNzTGlzdC5hZGQoXCJkZXNjcmlwdGlvbkNlbGxcIik7XG4gICAgZGVzY3JpcHRpb25DZWxsLnRleHRDb250ZW50ID0gdG9Eb0l0ZW0uZGVzY3JpcHRpb247XG4gICAgZGV0YWlsc0NlbGwuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25DZWxsKTtcblxuICAgIHRvRG9Sb3cuYXBwZW5kQ2hpbGQoZGV0YWlsc0NlbGwpO1xuXG4gICAgY29uc3QgYWN0aW9uc0NlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG5cbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGRlbGV0ZUJ1dHRvbi5pZCA9IFwiZGVsZXRlVG9Eb1wiO1xuICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIHRvRG9JdGVtLmlkKTtcbiAgICBkZWxldGVCdXR0b24ub25jbGljayA9ICgpID0+IGRlbGV0ZVRvRG9JdGVtKHRvRG9JdGVtLmlkLCB0b0RvUm93KTtcbiAgICBhY3Rpb25zQ2VsbC5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuXG4gICAgY29uc3QgZGVsZXRlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgZGVsZXRlSWNvbi5zcmMgPSBcIi4vYXNzZXRzL2RlbGV0ZS5wbmdcIjtcbiAgICBkZWxldGVJY29uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiaWNvblwiKTtcbiAgICBkZWxldGVCdXR0b24uYXBwZW5kQ2hpbGQoZGVsZXRlSWNvbik7XG5cbiAgICBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBlZGl0QnV0dG9uLmlkID0gXCJlZGl0VG9Eb1wiO1xuICAgIGVkaXRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCB0b0RvSXRlbS5pZCk7XG4gICAgZWRpdEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgZWRpdFRvRG9JdGVtKHRvRG9JdGVtLmlkKTtcbiAgICAgIG9wZW5Ub0RvRGlhbG9nVXBvbkVkaXQoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZWRpdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGVkaXRJY29uLnNyYyA9IFwiLi9hc3NldHMvZWRpdC5wbmdcIjtcbiAgICBlZGl0SWNvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImljb25cIik7XG4gICAgZWRpdEJ1dHRvbi5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG5cbiAgICBhY3Rpb25zQ2VsbC5hcHBlbmRDaGlsZChlZGl0QnV0dG9uKTtcblxuICAgIHRvRG9Sb3cuYXBwZW5kQ2hpbGQoYWN0aW9uc0NlbGwpO1xuXG4gICAgdG9Eb0xpc3QuYXBwZW5kQ2hpbGQodG9Eb1Jvdyk7XG4gIH1cbn1cblxuLy8gRnVuY3Rpb24gdG8gc2hvdyB0by1kb3MgZm9yIHNlbGVjdGVkIHByb2plY3RcbmZ1bmN0aW9uIHNob3dUb0Rvc0ZvclByb2plY3QocHJvamVjdE5hbWUpIHtcbiAgcHJvamVjdEFjdGl2ZU9iamVjdCA9IGFycmF5Q29udGFpbmVyRm9yUGFyZW50T2JqZWN0LmZpbmQoXG4gICAgKHByb2plY3QpID0+IHByb2plY3QucHJvamVjdE5hbWUgPT09IHByb2plY3ROYW1lXG4gICk7XG4gIGNvbnN0IHRpdGxlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZUNvbnRhaW5lclwiKTtcbiAgdGl0bGVDb250YWluZXIudGV4dENvbnRlbnQgPSBwcm9qZWN0QWN0aXZlT2JqZWN0LnByb2plY3ROYW1lO1xuXG4gIGNvbnN0IHRvRG9MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvTGlzdFwiKTtcbiAgdG9Eb0xpc3QuaW5uZXJIVE1MID0gXCJcIjtcblxuICBwcm9qZWN0QWN0aXZlT2JqZWN0LnByb2plY3RJdGVtcy5mb3JFYWNoKCh0b0RvSXRlbSkgPT4ge1xuICAgIGNvbnN0IHRvRG9JbnN0YW5jZSA9IG5ldyBBc3NpZ25Ub0RvQ29udGVudCgpO1xuICAgIHRvRG9JbnN0YW5jZS5kaXNwbGF5VG9Eb0l0ZW0odG9Eb0l0ZW0pO1xuICB9KTtcblxuICBvcGVuVG9Eb0RpYWxvZy5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcbn1cblxuLy8gRXZlbnQgbGlzdGVuZXJzIGZvciBhZGQsIHVwZGF0ZSwgYW5kIGRlbGV0ZSBvcGVyYXRpb25zXG5hZGRUb0RvQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGlmICh2YWxpZGF0ZVRvRG9JbnB1dEZpZWxkKCkpIHtcbiAgICBjb25zdCB0b0RvSW5zdGFuY2UgPSBuZXcgQXNzaWduVG9Eb0NvbnRlbnQoKTtcbiAgICBjb25zdCB0b0RvSXRlbSA9IHRvRG9JbnN0YW5jZS5wdXNoVG9Eb0l0ZW0oKTtcbiAgICB0b0RvSW5zdGFuY2UuZGlzcGxheVRvRG9JdGVtKHRvRG9JdGVtKTtcbiAgICBlbXB0eVRvRG9JbnB1dEZpZWxkKCk7XG4gICAgY29uc29sZS5sb2coXCJVcGRhdGVkIGFycmF5OlwiLCBwcm9qZWN0QWN0aXZlT2JqZWN0LnByb2plY3RJdGVtcyk7XG4gICAgY29uc29sZS5sb2coXCJOZXcgaXRlbSBhZGRlZDpcIiwgdG9Eb0l0ZW0pO1xuICB9IGVsc2Uge1xuICAgIGFsZXJ0KFwiUGxlYXNlIGZpbGwgaW4gYWxsIHRoZSByZXF1aXJlZCBmaWVsZHMuXCIpO1xuICB9XG5cbiAgdG9Eb0RpYWxvZy5jbG9zZSgpO1xuICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcbn0pO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVRvRG9JbnB1dEZpZWxkKCkge1xuICByZXR1cm4gKFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb1RpdGxlXCIpLnZhbHVlICE9PSBcIlwiICYmXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvRGVzY3JpcHRpb25cIikudmFsdWUgIT09IFwiXCIgJiZcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvRG9EdWVEYXRlXCIpLnZhbHVlICE9PSBcIlwiICYmXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvVXJnZW5jeVwiKS52YWx1ZSAhPT0gXCJcIiAmJlxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb0ltcG9ydGFuY2VcIikudmFsdWUgIT09IFwiXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gZW1wdHlUb0RvSW5wdXRGaWVsZCgpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvVGl0bGVcIikudmFsdWUgPSBcIlwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvRG9EZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb0R1ZURhdGVcIikudmFsdWUgPSBcIlwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvRG9VcmdlbmN5XCIpLnZhbHVlID0gXCJcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvSW1wb3J0YW5jZVwiKS52YWx1ZSA9IFwiXCI7XG59XG5cbi8vIERlbGV0ZSBhIHRvLWRvIGl0ZW1cbmZ1bmN0aW9uIGRlbGV0ZVRvRG9JdGVtKHRvRG9JdGVtSUQsIHRvRG9Sb3cpIHtcbiAgY29uc3QgaW5kZXggPSBwcm9qZWN0QWN0aXZlT2JqZWN0LnByb2plY3RJdGVtcy5maW5kSW5kZXgoXG4gICAgKHRvRG9JdGVtKSA9PiB0b0RvSXRlbS5pZCA9PT0gdG9Eb0l0ZW1JRFxuICApO1xuICBwcm9qZWN0QWN0aXZlT2JqZWN0LnByb2plY3RJdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB0b0RvUm93LnJlbW92ZSgpO1xuXG4gIHRvRG9EaWFsb2cuY2xvc2UoKTtcbiAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG59XG5cbi8vIEVkaXQgYSB0by1kbyBpdGVtXG5mdW5jdGlvbiBlZGl0VG9Eb0l0ZW0odG9Eb0l0ZW1JRCkge1xuICB0b0RvQWN0aXZlT2JqZWN0ID0gcHJvamVjdEFjdGl2ZU9iamVjdC5wcm9qZWN0SXRlbXMuZmluZChcbiAgICAodG9Eb0l0ZW0pID0+IHRvRG9JdGVtLmlkID09PSB0b0RvSXRlbUlEXG4gICk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb1RpdGxlXCIpLnZhbHVlID0gdG9Eb0FjdGl2ZU9iamVjdC50aXRsZTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvRGVzY3JpcHRpb25cIikudmFsdWUgPVxuICAgIHRvRG9BY3RpdmVPYmplY3QuZGVzY3JpcHRpb247XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb0R1ZURhdGVcIikudmFsdWUgPSB0b0RvQWN0aXZlT2JqZWN0LmR1ZURhdGU7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb1VyZ2VuY3lcIikudmFsdWUgPSB0b0RvQWN0aXZlT2JqZWN0LnVyZ2VuY3k7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb0ltcG9ydGFuY2VcIikudmFsdWUgPSB0b0RvQWN0aXZlT2JqZWN0LmltcG9ydGFuY2U7XG59XG5cbnVwZGF0ZVRvRG9CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgaWYgKHZhbGlkYXRlVG9Eb0lucHV0RmllbGQoKSkge1xuICAgIGlmICh0b0RvQWN0aXZlT2JqZWN0KSB7XG4gICAgICB0b0RvQWN0aXZlT2JqZWN0LnRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvVGl0bGVcIikudmFsdWU7XG4gICAgICB0b0RvQWN0aXZlT2JqZWN0LmRlc2NyaXB0aW9uID1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvRGVzY3JpcHRpb25cIikudmFsdWU7XG4gICAgICB0b0RvQWN0aXZlT2JqZWN0LmR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvRG9EdWVEYXRlXCIpLnZhbHVlO1xuICAgICAgdG9Eb0FjdGl2ZU9iamVjdC51cmdlbmN5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0RvVXJnZW5jeVwiKS52YWx1ZTtcbiAgICAgIHRvRG9BY3RpdmVPYmplY3QuaW1wb3J0YW5jZSA9XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb0ltcG9ydGFuY2VcIikudmFsdWU7XG4gICAgICBjb25zdCB1cGRhdGVkUm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYHRyW2RhdGEtaWQ9JyR7dG9Eb0FjdGl2ZU9iamVjdC5pZH0nXWBcbiAgICAgICk7XG4gICAgICB1cGRhdGVkUm93LnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGVDZWxsXCIpLnRleHRDb250ZW50ID1cbiAgICAgICAgdG9Eb0FjdGl2ZU9iamVjdC50aXRsZTtcbiAgICAgIHVwZGF0ZWRSb3cucXVlcnlTZWxlY3RvcihcIi5kdWVEYXRlQ2VsbFwiKS50ZXh0Q29udGVudCA9XG4gICAgICAgIHRvRG9BY3RpdmVPYmplY3QuZHVlRGF0ZTtcbiAgICAgIHVwZGF0ZWRSb3cucXVlcnlTZWxlY3RvcihcIi5kZXNjcmlwdGlvbkNlbGxcIikudGV4dENvbnRlbnQgPVxuICAgICAgICB0b0RvQWN0aXZlT2JqZWN0LmRlc2NyaXB0aW9uO1xuICAgICAgdXBkYXRlZFJvdy5xdWVyeVNlbGVjdG9yKFwiLnVyZ2VuY3lDZWxsIGRpdjpudGgtY2hpbGQoMSlcIikudGV4dENvbnRlbnQgPVxuICAgICAgICB0b0RvQWN0aXZlT2JqZWN0LnVyZ2VuY3k7XG4gICAgICB1cGRhdGVkUm93LnF1ZXJ5U2VsZWN0b3IoXCIudXJnZW5jeUNlbGwgZGl2Om50aC1jaGlsZCgyKVwiKS50ZXh0Q29udGVudCA9XG4gICAgICAgIHRvRG9BY3RpdmVPYmplY3QuaW1wb3J0YW5jZTtcblxuICAgICAgZW1wdHlUb0RvSW5wdXRGaWVsZCgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhbGVydChcIlBsZWFzZSBmaWxsIGluIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzLlwiKTtcbiAgfVxuXG4gIHRvRG9EaWFsb2cuY2xvc2UoKTtcbiAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG59KTtcblxuYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3IENyZWF0ZVByb2plY3QoKTtcbiAgY29uc3QgYWRkZWRQcm9qZWN0ID0gbmV3UHJvamVjdC5wdXNoUGFyZW50T2JqZWN0KCk7XG4gIGlmIChhZGRlZFByb2plY3QpIHtcbiAgICBuZXdQcm9qZWN0LmRpc3BsYXlQYXJlbnRPYmplY3QoYWRkZWRQcm9qZWN0KTtcbiAgfVxuICBwcm9qZWN0RGlhbG9nLmNsb3NlKCk7XG4gIHNob3dUb0Rvc0ZvclByb2plY3QobmV3UHJvamVjdC5wcm9qZWN0TmFtZSk7XG4gIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xufSk7XG5cbmZ1bmN0aW9uIGVkaXRQcm9qZWN0KHByb2plY3RJRCkge1xuICBwcm9qZWN0QWN0aXZlT2JqZWN0ID0gYXJyYXlDb250YWluZXJGb3JQYXJlbnRPYmplY3QuZmluZChcbiAgICAocHJvamVjdCkgPT4gcHJvamVjdC5wcm9qZWN0TmFtZSA9PT0gcHJvamVjdElEXG4gICk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdFRpdGxlXCIpLnZhbHVlID1cbiAgICBwcm9qZWN0QWN0aXZlT2JqZWN0LnByb2plY3ROYW1lO1xufVxuXG51cGRhdGVQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGlmIChwcm9qZWN0QWN0aXZlT2JqZWN0KSB7XG4gICAgY29uc3QgbmV3VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RUaXRsZVwiKS52YWx1ZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYGJ1dHRvbltkYXRhLWlkPScke3Byb2plY3RBY3RpdmVPYmplY3QucHJvamVjdE5hbWV9J11gXG4gICAgKS50ZXh0Q29udGVudCA9IG5ld1RpdGxlO1xuXG4gICAgLy9jaGFuZ2UgaWQgb2YgdGhlIHRpdGxlIGJ1dHRvblxuICAgIGNvbnN0IHRpdGxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGBidXR0b24ucHJvamVjdFRpdGxlW2RhdGEtaWQ9JyR7cHJvamVjdEFjdGl2ZU9iamVjdC5wcm9qZWN0TmFtZX0nXWBcbiAgICApO1xuICAgIGlmICh0aXRsZUJ1dHRvbikge1xuICAgICAgdGl0bGVCdXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBuZXdUaXRsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaXRsZSBidXR0b24gbm90IGZvdW5kLlwiKTtcbiAgICB9XG5cbiAgICAvL2NoYW5nZSBpZCBvZiBhdHRhY2hlZCBlZGl0IGJ1dHRvblxuICAgIGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYGJ1dHRvbi5wcm9qZWN0RWRpdEJ1dHRvbltkYXRhLWlkPScke3Byb2plY3RBY3RpdmVPYmplY3QucHJvamVjdE5hbWV9J11gXG4gICAgKTtcbiAgICBpZiAoZWRpdEJ1dHRvbikge1xuICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIG5ld1RpdGxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVkaXQgYnV0dG9uIG5vdCBmb3VuZC5cIik7XG4gICAgfVxuXG4gICAgLy8gY2hhbmdlIHZhbHVlIG9mIHRoZSBwcm9qZWN0TmFtZSBvYmplY3RcbiAgICBwcm9qZWN0QWN0aXZlT2JqZWN0LnByb2plY3ROYW1lID0gbmV3VGl0bGU7XG5cbiAgICAvL2VtcHR5IGlucHV0IGZpZWxkIGZvciB0aXRsZVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdFRpdGxlXCIpLnZhbHVlID0gbnVsbDtcbiAgfVxuXG4gIHByb2plY3REaWFsb2cuY2xvc2UoKTtcbiAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG59KTtcblxuZGVsZXRlUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBpZiAocHJvamVjdEFjdGl2ZU9iamVjdCkge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyYXlDb250YWluZXJGb3JQYXJlbnRPYmplY3QuaW5kZXhPZihwcm9qZWN0QWN0aXZlT2JqZWN0KTtcbiAgICBhcnJheUNvbnRhaW5lckZvclBhcmVudE9iamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYCNwcm9qZWN0TGlzdCBidXR0b25bZGF0YS1pZD0nJHtwcm9qZWN0QWN0aXZlT2JqZWN0LnByb2plY3ROYW1lfSddYFxuICAgICAgKVxuICAgICAgLnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgcHJvamVjdEFjdGl2ZU9iamVjdCA9IG51bGw7XG4gIH1cblxuICBjb25zdCB0b0RvTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb0xpc3RcIik7XG4gIHRvRG9MaXN0LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgcHJvamVjdERpYWxvZy5jbG9zZSgpO1xuICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcbn0pO1xuXG4vLyBVSSBVWFxuY29uc3QgdG9Eb0RpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb0RpYWxvZ1wiKTtcbmNvbnN0IHByb2plY3REaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3REaWFsb2dcIik7XG5jb25zdCBvcGVuVG9Eb0RpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3BlblRvRG9EaWFsb2dcIik7XG5jb25zdCBvcGVuUHJvamVjdERpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3BlblByb2plY3REaWFsb2dcIik7XG5jb25zdCBwcm9qZWN0RWRpdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdEVkaXRCdG5cIik7XG5jb25zdCBjYW5jZWxUb0RvQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW5jZWxUb0RvXCIpO1xuXG5vcGVuUHJvamVjdERpYWxvZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwcm9qZWN0RGlhbG9nLnNob3dNb2RhbCgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlQ29udGFpbmVyXCIpLnRleHRDb250ZW50ID0gXCJcIjsgLy8gcmVzZXQgdGV4dCBpbnB1dFxuICBhZGRQcm9qZWN0QnRuLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIGRlbGV0ZVByb2plY3RCdG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB1cGRhdGVQcm9qZWN0QnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbn0pO1xuXG5jYW5jZWxQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHByb2plY3REaWFsb2cuY2xvc2UoKTtcbn0pO1xuXG5mdW5jdGlvbiBvcGVuUHJvamVjdERpYWxvZ1Vwb25FZGl0KCkge1xuICBwcm9qZWN0RGlhbG9nLnNob3dNb2RhbCgpO1xuICBkZWxldGVQcm9qZWN0QnRuLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIHVwZGF0ZVByb2plY3RCdG4uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgYWRkUHJvamVjdEJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG59XG5cbm9wZW5Ub0RvRGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHRvRG9EaWFsb2cuc2hvd01vZGFsKCk7XG4gIHVwZGF0ZVRvRG9CdG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBhZGRUb0RvQnRuLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG59KTtcblxuY2FuY2VsVG9Eb0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBlbXB0eVRvRG9JbnB1dEZpZWxkKCk7XG4gIHRvRG9EaWFsb2cuY2xvc2UoKTtcbn0pO1xuXG5mdW5jdGlvbiBvcGVuVG9Eb0RpYWxvZ1Vwb25FZGl0KCkge1xuICB0b0RvRGlhbG9nLnNob3dNb2RhbCgpO1xuICBhZGRUb0RvQnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgdXBkYXRlVG9Eb0J0bi5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbn1cblxuLy8gZm9yIHRoZSBzb3J0IGNyZWF0ZSBhIG5ldyBrZXk6dmFsdWUgaW5zaWRlIHRoZSBvYmplY3QgdGhhdCBmb2xsb3dzIGEgY29uZGl0aW9uXG4vLyB1c2UgdGhlIHZhbHVlIGZvciB0aGF0IGtleSB2YWx1ZSBwYWlyIHRvIGNyZWF0ZSBhIHNvcnQgZnVuY3Rpb25cbi8vIHVzZSBhbiBldmVudCBsaXN0ZW5lclxuLy8gaG93IGRvIHlvdSB0aGVuIHJlbW92ZSB0aGUgZWZmZWN0cyBvZiB0aGUgc29ydCB3aGVuIHlvdSBsZWF2ZSB0aGUgcGFnZT9cblxuY29uc3QgYWxsVG9Eb0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWxsVG9Eb1wiKTtcbmFsbFRvRG9CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHNob3dBbGxUb0RvcygpKTtcblxuZnVuY3Rpb24gc2hvd0FsbFRvRG9zKCkge1xuICBjb25zdCB0b0RvTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Eb0xpc3RcIik7XG4gIHRvRG9MaXN0LmlubmVySFRNTCA9IFwiXCI7IC8vIENsZWFyIGV4aXN0aW5nIGxpc3QgdG8gYXZvaWQgZHVwbGljYXRlc1xuXG4gIGFycmF5Q29udGFpbmVyRm9yUGFyZW50T2JqZWN0LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICBwcm9qZWN0LnByb2plY3RJdGVtcy5mb3JFYWNoKCh0b0RvSXRlbSkgPT4ge1xuICAgICAgY29uc3QgdG9Eb0luc3RhbmNlID0gbmV3IEFzc2lnblRvRG9Db250ZW50KCk7XG4gICAgICB0b0RvSW5zdGFuY2UuZGlzcGxheVRvRG9JdGVtKHRvRG9JdGVtKTsgLy8gRGlzcGxheSBlYWNoIHRvLWRvIGl0ZW1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gT3B0aW9uYWxseSB1cGRhdGUgdGl0bGUgdG8gc2hvdyB0aGlzIGlzIHRoZSBcIkFsbCBUby1Eb3NcIiB2aWV3XG4gIGNvbnN0IHRpdGxlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZUNvbnRhaW5lclwiKTtcbiAgdGl0bGVDb250YWluZXIudGV4dENvbnRlbnQgPSBcIkFsbCBUby1EbyBJdGVtc1wiO1xuXG4gIG9wZW5Ub0RvRGlhbG9nLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuICBzaG93QWxsVG9Eb3MoKTsgLy8gQXV0b21hdGljYWxseSBkaXNwbGF5IGFsbCB0by1kbyBpdGVtcyB3aGVuIHRoZSBET00gaXMgZnVsbHkgbG9hZGVkXG59KTtcblxuY29uc3Qgc2FtcGxlUHJvamVjdHMgPSBbXG4gIHtcbiAgICBwcm9qZWN0TmFtZTogXCJDaG9yZXNcIixcbiAgICBwcm9qZWN0SXRlbXM6IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6IDAsXG4gICAgICAgIHRpdGxlOiBcIk1hZ3NhbGFuZyBuZyBsYWJhaGFuXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIldhZyBrYWxpbXV0YW4gaXNhbXBheSBrYWdhZFwiLFxuICAgICAgICBkdWVEYXRlOiBcIjIwMjQtMTEtMTVcIixcbiAgICAgICAgdXJnZW5jeTogXCJVcmdlbnRcIixcbiAgICAgICAgaW1wb3J0YW5jZTogXCJJbXBvcnRhbnRcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICB0aXRsZTogXCJJbGFiYXMgYmFzdXJhXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIldhZyBtb25nIGlpd2FuIG5nIHdhbGFuZyBwbGFzdGljIHl1bmcgYmFzdXJhaGFuXCIsXG4gICAgICAgIGR1ZURhdGU6IFwiMjAyNC0xMS0yMFwiLFxuICAgICAgICB1cmdlbmN5OiBcIlVyZ2VudFwiLFxuICAgICAgICBpbXBvcnRhbmNlOiBcIk5vdCBJbXBvcnRhbnRcIixcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIHByb2plY3ROYW1lOiBcIk90aGVycyBYRFwiLFxuICAgIHByb2plY3RJdGVtczogW1xuICAgICAge1xuICAgICAgICBpZDogMCxcbiAgICAgICAgdGl0bGU6IFwiR3VtYXdhIG5nIHRpbmFwYXlcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiV2FnIGthbmcgdGFtYWQgOi9cIixcbiAgICAgICAgZHVlRGF0ZTogXCIyMDI0LTEyLTAxXCIsXG4gICAgICAgIHVyZ2VuY3k6IFwiTm90IFVyZ2VudFwiLFxuICAgICAgICBpbXBvcnRhbmNlOiBcIkltcG9ydGFudFwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHRpdGxlOiBcIk1hbm9vZCBuZyBiYWdvbmcgc2VyaWVzXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIndoYXQgaWYgbGFuZyBuYW1hbiFcIixcbiAgICAgICAgZHVlRGF0ZTogXCIyMDI0LTEyLTAxXCIsXG4gICAgICAgIHVyZ2VuY3k6IFwiTm90IFVyZ2VudFwiLFxuICAgICAgICBpbXBvcnRhbmNlOiBcIk5vdCBJbXBvcnRhbnRcIixcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbl07XG5cbi8vIEV4YW1wbGUgb2YgYWRkaW5nIGl0IHRvIGxvY2FsU3RvcmFnZVxubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0c1wiLCBKU09OLnN0cmluZ2lmeShzYW1wbGVQcm9qZWN0cykpO1xuXG5sb2FkRnJvbUxvY2FsU3RvcmFnZSgpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/main.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/main.js"]();
/******/ 	
/******/ })()
;